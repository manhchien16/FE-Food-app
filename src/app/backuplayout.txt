"use client";
import React from 'react';
import './globals.css';
import 'antd/dist/antd.css';
import Layout, { Content, Footer, Header } from 'antd/lib/layout/layout';
import { Inter } from 'next/font/google';
import HeaderComponents from '@/share/components/layout/Header';
import Breadcrumb from '@/share/components/layout/Breadcrumb';
import { Container } from 'react-bootstrap';
import NavBar from '@/share/components/layout/Nav-bar';
import { Provider } from 'react-redux';
import { persistor, store } from '@/redux-setup/store';
import { PersistGate } from 'redux-persist/integration/react';
import NumberProvider from '@/context/useNumberContext';
import StatusProvider from '@/context/useStatusStateContext';
import { usePathname } from 'next/navigation';

const inter = Inter({ subsets: ['latin'] });

export const metadata = {
    title: 'Simple Todo App',
    description: 'Generated by create next app',
};

export default function RootLayout({
    children,
}: {
    children: React.ReactNode;
}) {
    const pathName = usePathname();
    const hideNavBarPaths = ['/restaurant/cart', '/restaurant/profile', '/restaurant/login', '/restaurant/register'];
    const hideHeaderPaths = ['/restaurant/login', '/restaurant/register'];
    const shouldShowNavBar = hideNavBarPaths.includes(pathName);
    const shouldShowHeader = hideHeaderPaths.includes(pathName);
    return (
        <html lang= "en" >
        <body className={ inter.className }>
            <Provider store={ store }>
                <PersistGate persistor={ persistor }>
                    <NumberProvider>
                    <StatusProvider>
                    <Layout>
                    <Header style={ { backgroundColor: '#EE6D1F', padding: '0 10px', height: '100%' } }>
                        <Container>
                        { shouldShowHeader? null: <HeaderComponents /> }
                        </Container>
                        </Header>
                        < div className = 'bg-#dfdfdf flex justify-center items-center' >
                            { shouldShowNavBar? null: <NavBar /> }
                            </>
                            < Container style = {{ minHeight: '800px' }
}>
    { shouldShowHeader? null: <Breadcrumb /> }
    <Content>
{ children }
</Content>
    </>

    < Footer style = {{ textAlign: 'center' }}>
        Pizza VMC Â©2024 Created by VMC UED
            </Footer>
            </Layout>
            </StatusProvider>
            </NumberProvider>
            </PersistGate>
            </Provider>
            </body>
            </html>
  );
}
